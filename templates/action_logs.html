<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>行为日志</title>
    <!-- 引入自定义样式 -->
    <link rel="stylesheet" href="/static/css/styles.css">
    <!-- 引入本地的 Bootstrap CSS -->
    <link rel="stylesheet" href="/static/css/bootstrap.min.css">
</head>
<body>
    {% include 'navbar.html' %}
    <h1>行为日志</h1>
    <ul id="actionLogs">
        <!-- 行为日志将通过API动态插入 -->
    </ul>
    <script src="/static/js/jquery-3.5.1.min.js"></script>
    <script>
        $(document).ready(function() {
            // 请求 /get_action_logs 接口获取数据
            $.getJSON('/get_action_logs/', function(data) {
                console.log("获取行为日志成功", data);
                const actionLogsList = document.getElementById('actionLogs');
                actionLogsList.innerHTML = '';  // 清空现有日志
                data.forEach(log => {
                    const li = document.createElement('li');
                    li.textContent = `行为: ${log.behavior}, 积分变化: ${log.points_change}, 时间: ${log.timestamp}`;
                    actionLogsList.appendChild(li);
                });
            });
        });
    </script>
</body>
</html>